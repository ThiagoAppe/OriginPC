import{g as Mn}from"./@emotion-CCyCFY0j.js";import{r as m,a as we,R as en}from"./react-DZJsZIpJ.js";import{h as Dn}from"./aria-hidden-DQ5UC2Eg.js";import{t as Ue}from"./tabbable-CjV0_wFH.js";const tn=["top","right","bottom","left"],Dt=["start","end"],Ft=tn.reduce((e,t)=>e.concat(t,t+"-"+Dt[0],t+"-"+Dt[1]),[]),le=Math.min,U=Math.max,Ze=Math.round,Ke=Math.floor,de=e=>({x:e,y:e}),Fn={left:"right",right:"left",bottom:"top",top:"bottom"},kn={start:"end",end:"start"};function pt(e,t,n){return U(e,le(t,n))}function ue(e,t){return typeof e=="function"?e(t):e}function te(e){return e.split("-")[0]}function ce(e){return e.split("-")[1]}function yt(e){return e==="x"?"y":"x"}function wt(e){return e==="y"?"height":"width"}function ve(e){return["top","bottom"].includes(te(e))?"y":"x"}function xt(e){return yt(ve(e))}function nn(e,t,n){n===void 0&&(n=!1);const r=ce(e),o=xt(e),i=wt(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Qe(s)),[s,Qe(s)]}function Nn(e){const t=Qe(e);return[Je(e),t,Je(t)]}function Je(e){return e.replace(/start|end/g,t=>kn[t])}function Bn(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function Hn(e,t,n,r){const o=ce(e);let i=Bn(te(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Je)))),i}function Qe(e){return e.replace(/left|right|bottom|top/g,t=>Fn[t])}function _n(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rt(e){return typeof e!="number"?_n(e):{top:e,right:e,bottom:e,left:e}}function Ie(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function kt(e,t,n){let{reference:r,floating:o}=e;const i=ve(t),s=xt(t),c=wt(s),u=te(t),a=i==="y",g=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,d=r[c]/2-o[c]/2;let f;switch(u){case"top":f={x:g,y:r.y-o.height};break;case"bottom":f={x:g,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-o.width,y:h};break;default:f={x:r.x,y:r.y}}switch(ce(t)){case"start":f[s]-=d*(n&&a?-1:1);break;case"end":f[s]+=d*(n&&a?-1:1);break}return f}const Vn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:h}=kt(a,r,u),d=r,f={},v=0;for(let p=0;p<c.length;p++){const{name:b,fn:y}=c[p],{x:E,y:x,data:T,reset:w}=await y({x:g,y:h,initialPlacement:r,placement:d,strategy:o,middlewareData:f,rects:a,platform:s,elements:{reference:e,floating:t}});g=E??g,h=x??h,f={...f,[b]:{...f[b],...T}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(a=w.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):w.rects),{x:g,y:h}=kt(a,d,u)),p=-1)}return{x:g,y:h,placement:d,strategy:o,middlewareData:f}};async function Re(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:u}=e,{boundary:a="clippingAncestors",rootBoundary:g="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=ue(t,e),v=Rt(f),b=c[d?h==="floating"?"reference":"floating":h],y=Ie(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:g,strategy:u})),E=h==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),T=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},w=Ie(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:x,strategy:u}):E);return{top:(y.top-w.top+v.top)/T.y,bottom:(w.bottom-y.bottom+v.bottom)/T.y,left:(y.left-w.left+v.left)/T.x,right:(w.right-y.right+v.right)/T.x}}const Wn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:u}=t,{element:a,padding:g=0}=ue(e,t)||{};if(a==null)return{};const h=Rt(g),d={x:n,y:r},f=xt(o),v=wt(f),p=await s.getDimensions(a),b=f==="y",y=b?"top":"left",E=b?"bottom":"right",x=b?"clientHeight":"clientWidth",T=i.reference[v]+i.reference[f]-d[f]-i.floating[v],w=d[f]-i.reference[f],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let k=M?M[x]:0;(!k||!await(s.isElement==null?void 0:s.isElement(M)))&&(k=c.floating[x]||i.floating[v]);const _=T/2-w/2,I=k/2-p[v]/2-1,R=le(h[y],I),l=le(h[E],I),D=R,P=k-p[v]-l,O=k/2-p[v]/2+_,S=pt(D,O,P),N=!u.arrow&&ce(o)!=null&&O!==S&&i.reference[v]/2-(O<D?R:l)-p[v]/2<0,V=N?O<D?O-D:O-P:0;return{[f]:d[f]+V,data:{[f]:S,centerOffset:O-S-V,...N&&{alignmentOffset:V}},reset:N}}});function $n(e,t,n){return(e?[...n.filter(o=>ce(o)===e),...n.filter(o=>ce(o)!==e)]:n.filter(o=>te(o)===o)).filter(o=>e?ce(o)===e||(t?Je(o)!==o:!1):!0)}const Kn=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:s,placement:c,platform:u,elements:a}=t,{crossAxis:g=!1,alignment:h,allowedPlacements:d=Ft,autoAlignment:f=!0,...v}=ue(e,t),p=h!==void 0||d===Ft?$n(h||null,f,d):d,b=await Re(t,v),y=((n=s.autoPlacement)==null?void 0:n.index)||0,E=p[y];if(E==null)return{};const x=nn(E,i,await(u.isRTL==null?void 0:u.isRTL(a.floating)));if(c!==E)return{reset:{placement:p[0]}};const T=[b[te(E)],b[x[0]],b[x[1]]],w=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:E,overflows:T}],M=p[y+1];if(M)return{data:{index:y+1,overflows:w},reset:{placement:M}};const k=w.map(R=>{const l=ce(R.placement);return[R.placement,l&&g?R.overflows.slice(0,2).reduce((D,P)=>D+P,0):R.overflows[0],R.overflows]}).sort((R,l)=>R[1]-l[1]),I=((o=k.filter(R=>R[2].slice(0,ce(R[0])?2:3).every(l=>l<=0))[0])==null?void 0:o[0])||k[0][0];return I!==c?{data:{index:y+1,overflows:w},reset:{placement:I}}:{}}}},jn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:u,elements:a}=t,{mainAxis:g=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...b}=ue(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=te(o),E=ve(c),x=te(c)===c,T=await(u.isRTL==null?void 0:u.isRTL(a.floating)),w=d||(x||!p?[Qe(c)]:Nn(c)),M=v!=="none";!d&&M&&w.push(...Hn(c,p,v,T));const k=[c,...w],_=await Re(t,b),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&I.push(_[y]),h){const O=nn(o,s,T);I.push(_[O[0]],_[O[1]])}if(R=[...R,{placement:o,overflows:I}],!I.every(O=>O<=0)){var l,D;const O=(((l=i.flip)==null?void 0:l.index)||0)+1,S=k[O];if(S)return{data:{index:O,overflows:R},reset:{placement:S}};let N=(D=R.filter(V=>V.overflows[0]<=0).sort((V,C)=>V.overflows[1]-C.overflows[1])[0])==null?void 0:D.placement;if(!N)switch(f){case"bestFit":{var P;const V=(P=R.filter(C=>{if(M){const L=ve(C.placement);return L===E||L==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(L=>L>0).reduce((L,A)=>L+A,0)]).sort((C,L)=>C[1]-L[1])[0])==null?void 0:P[0];V&&(N=V);break}case"initialPlacement":N=c;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function Nt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bt(e){return tn.some(t=>e[t]>=0)}const zn=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=ue(e,t);switch(r){case"referenceHidden":{const i=await Re(t,{...o,elementContext:"reference"}),s=Nt(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Bt(s)}}}case"escaped":{const i=await Re(t,{...o,altBoundary:!0}),s=Nt(i,n.floating);return{data:{escapedOffsets:s,escaped:Bt(s)}}}default:return{}}}}};function rn(e){const t=le(...e.map(i=>i.left)),n=le(...e.map(i=>i.top)),r=U(...e.map(i=>i.right)),o=U(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:o-n}}function Yn(e){const t=e.slice().sort((o,i)=>o.y-i.y),n=[];let r=null;for(let o=0;o<t.length;o++){const i=t[o];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(o=>Ie(rn(o)))}const Xn=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:s}=t,{padding:c=2,x:u,y:a}=ue(e,t),g=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),h=Yn(g),d=Ie(rn(g)),f=Rt(c);function v(){if(h.length===2&&h[0].left>h[1].right&&u!=null&&a!=null)return h.find(b=>u>b.left-f.left&&u<b.right+f.right&&a>b.top-f.top&&a<b.bottom+f.bottom)||d;if(h.length>=2){if(ve(n)==="y"){const R=h[0],l=h[h.length-1],D=te(n)==="top",P=R.top,O=l.bottom,S=D?R.left:l.left,N=D?R.right:l.right,V=N-S,C=O-P;return{top:P,bottom:O,left:S,right:N,width:V,height:C,x:S,y:P}}const b=te(n)==="left",y=U(...h.map(R=>R.right)),E=le(...h.map(R=>R.left)),x=h.filter(R=>b?R.left===E:R.right===y),T=x[0].top,w=x[x.length-1].bottom,M=E,k=y,_=k-M,I=w-T;return{top:T,bottom:w,left:M,right:k,width:_,height:I,x:M,y:T}}return d}const p=await i.getElementRects({reference:{getBoundingClientRect:v},floating:r.floating,strategy:s});return o.reference.x!==p.reference.x||o.reference.y!==p.reference.y||o.reference.width!==p.reference.width||o.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};async function qn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=te(n),c=ce(n),u=ve(n)==="y",a=["left","top"].includes(s)?-1:1,g=i&&u?-1:1,h=ue(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof v=="number"&&(f=c==="end"?v*-1:v),u?{x:f*g,y:d*a}:{x:d*a,y:f*g}}const Gn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=t,u=await qn(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:s}}}}},Un=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:b=>{let{x:y,y:E}=b;return{x:y,y:E}}},...u}=ue(e,t),a={x:n,y:r},g=await Re(t,u),h=ve(te(o)),d=yt(h);let f=a[d],v=a[h];if(i){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",E=f+g[b],x=f-g[y];f=pt(E,f,x)}if(s){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",E=v+g[b],x=v-g[y];v=pt(E,v,x)}const p=c.fn({...t,[d]:f,[h]:v});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[d]:i,[h]:s}}}}}},Zn=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:c=0,mainAxis:u=!0,crossAxis:a=!0}=ue(e,t),g={x:n,y:r},h=ve(o),d=yt(h);let f=g[d],v=g[h];const p=ue(c,t),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(u){const x=d==="y"?"height":"width",T=i.reference[d]-i.floating[x]+b.mainAxis,w=i.reference[d]+i.reference[x]-b.mainAxis;f<T?f=T:f>w&&(f=w)}if(a){var y,E;const x=d==="y"?"width":"height",T=["top","left"].includes(te(o)),w=i.reference[h]-i.floating[x]+(T&&((y=s.offset)==null?void 0:y[h])||0)+(T?0:b.crossAxis),M=i.reference[h]+i.reference[x]+(T?0:((E=s.offset)==null?void 0:E[h])||0)-(T?b.crossAxis:0);v<w?v=w:v>M&&(v=M)}return{[d]:f,[h]:v}}}},Jn=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:c}=t,{apply:u=()=>{},...a}=ue(e,t),g=await Re(t,a),h=te(o),d=ce(o),f=ve(o)==="y",{width:v,height:p}=i.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=d===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(y=h,b=d==="end"?"top":"bottom");const E=p-g.top-g.bottom,x=v-g.left-g.right,T=le(p-g[b],E),w=le(v-g[y],x),M=!t.middlewareData.shift;let k=T,_=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=E),M&&!d){const R=U(g.left,0),l=U(g.right,0),D=U(g.top,0),P=U(g.bottom,0);f?_=v-2*(R!==0||l!==0?R+l:U(g.left,g.right)):k=p-2*(D!==0||P!==0?D+P:U(g.top,g.bottom))}await u({...t,availableWidth:_,availableHeight:k});const I=await s.getDimensions(c.floating);return v!==I.width||p!==I.height?{reset:{rects:!0}}:{}}}};function ot(){return typeof window<"u"}function Me(e){return on(e)?(e.nodeName||"").toLowerCase():"#document"}function ee(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ge(e){var t;return(t=(on(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function on(e){return ot()?e instanceof Node||e instanceof ee(e).Node:!1}function ae(e){return ot()?e instanceof Element||e instanceof ee(e).Element:!1}function me(e){return ot()?e instanceof HTMLElement||e instanceof ee(e).HTMLElement:!1}function Ht(e){return!ot()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ee(e).ShadowRoot}function We(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=fe(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Qn(e){return["table","td","th"].includes(Me(e))}function it(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Et(e){const t=Tt(),n=ae(e)?fe(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function er(e){let t=xe(e);for(;me(t)&&!Se(t);){if(Et(t))return t;if(it(t))return null;t=xe(t)}return null}function Tt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Se(e){return["html","body","#document"].includes(Me(e))}function fe(e){return ee(e).getComputedStyle(e)}function st(e){return ae(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xe(e){if(Me(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ht(e)&&e.host||ge(e);return Ht(t)?t.host:t}function sn(e){const t=xe(e);return Se(t)?e.ownerDocument?e.ownerDocument.body:e.body:me(t)&&We(t)?t:sn(t)}function he(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=sn(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ee(o);if(i){const c=ht(s);return t.concat(s,s.visualViewport||[],We(o)?o:[],c&&n?he(c):[])}return t.concat(o,he(o,[],n))}function ht(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cn(e){const t=fe(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=me(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=Ze(n)!==i||Ze(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function Ot(e){return ae(e)?e:e.contextElement}function Ae(e){const t=Ot(e);if(!me(t))return de(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=cn(t);let s=(i?Ze(n.width):n.width)/r,c=(i?Ze(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const tr=de(0);function ln(e){const t=ee(e);return!Tt()||!t.visualViewport?tr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nr(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ee(e)?!1:t}function Ee(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Ot(e);let s=de(1);t&&(r?ae(r)&&(s=Ae(r)):s=Ae(e));const c=nr(i,n,r)?ln(i):de(0);let u=(o.left+c.x)/s.x,a=(o.top+c.y)/s.y,g=o.width/s.x,h=o.height/s.y;if(i){const d=ee(i),f=r&&ae(r)?ee(r):r;let v=d,p=ht(v);for(;p&&r&&f!==v;){const b=Ae(p),y=p.getBoundingClientRect(),E=fe(p),x=y.left+(p.clientLeft+parseFloat(E.paddingLeft))*b.x,T=y.top+(p.clientTop+parseFloat(E.paddingTop))*b.y;u*=b.x,a*=b.y,g*=b.x,h*=b.y,u+=x,a+=T,v=ee(p),p=ht(v)}}return Ie({width:g,height:h,x:u,y:a})}function Ct(e,t){const n=st(e).scrollLeft;return t?t.left+n:Ee(ge(e)).left+n}function un(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Ct(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function rr(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=ge(r),c=t?it(t.floating):!1;if(r===s||c&&i)return n;let u={scrollLeft:0,scrollTop:0},a=de(1);const g=de(0),h=me(r);if((h||!h&&!i)&&((Me(r)!=="body"||We(s))&&(u=st(r)),me(r))){const f=Ee(r);a=Ae(r),g.x=f.x+r.clientLeft,g.y=f.y+r.clientTop}const d=s&&!h&&!i?un(s,u,!0):de(0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-u.scrollLeft*a.x+g.x+d.x,y:n.y*a.y-u.scrollTop*a.y+g.y+d.y}}function or(e){return Array.from(e.getClientRects())}function ir(e){const t=ge(e),n=st(e),r=e.ownerDocument.body,o=U(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=U(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Ct(e);const c=-n.scrollTop;return fe(r).direction==="rtl"&&(s+=U(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function sr(e,t){const n=ee(e),r=ge(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,u=0;if(o){i=o.width,s=o.height;const a=Tt();(!a||a&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:i,height:s,x:c,y:u}}function cr(e,t){const n=Ee(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=me(e)?Ae(e):de(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,u=o*i.x,a=r*i.y;return{width:s,height:c,x:u,y:a}}function _t(e,t,n){let r;if(t==="viewport")r=sr(e,n);else if(t==="document")r=ir(ge(e));else if(ae(t))r=cr(t,n);else{const o=ln(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ie(r)}function an(e,t){const n=xe(e);return n===t||!ae(n)||Se(n)?!1:fe(n).position==="fixed"||an(n,t)}function lr(e,t){const n=t.get(e);if(n)return n;let r=he(e,[],!1).filter(c=>ae(c)&&Me(c)!=="body"),o=null;const i=fe(e).position==="fixed";let s=i?xe(e):e;for(;ae(s)&&!Se(s);){const c=fe(s),u=Et(s);!u&&c.position==="fixed"&&(o=null),(i?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||We(s)&&!u&&an(e,s))?r=r.filter(g=>g!==s):o=c,s=xe(s)}return t.set(e,r),r}function ur(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?it(t)?[]:lr(t,this._c):[].concat(n),r],c=s[0],u=s.reduce((a,g)=>{const h=_t(t,g,o);return a.top=U(h.top,a.top),a.right=le(h.right,a.right),a.bottom=le(h.bottom,a.bottom),a.left=U(h.left,a.left),a},_t(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function ar(e){const{width:t,height:n}=cn(e);return{width:t,height:n}}function fr(e,t,n){const r=me(t),o=ge(t),i=n==="fixed",s=Ee(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const u=de(0);if(r||!r&&!i)if((Me(t)!=="body"||We(o))&&(c=st(t)),r){const d=Ee(t,!0,i,t);u.x=d.x+t.clientLeft,u.y=d.y+t.clientTop}else o&&(u.x=Ct(o));const a=o&&!r&&!i?un(o,c):de(0),g=s.left+c.scrollLeft-u.x-a.x,h=s.top+c.scrollTop-u.y-a.y;return{x:g,y:h,width:s.width,height:s.height}}function at(e){return fe(e).position==="static"}function Vt(e,t){if(!me(e)||fe(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ge(e)===n&&(n=n.ownerDocument.body),n}function fn(e,t){const n=ee(e);if(it(e))return n;if(!me(e)){let o=xe(e);for(;o&&!Se(o);){if(ae(o)&&!at(o))return o;o=xe(o)}return n}let r=Vt(e,t);for(;r&&Qn(r)&&at(r);)r=Vt(r,t);return r&&Se(r)&&at(r)&&!Et(r)?n:r||er(e)||n}const dr=async function(e){const t=this.getOffsetParent||fn,n=this.getDimensions,r=await n(e.floating);return{reference:fr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mr(e){return fe(e).direction==="rtl"}const dn={convertOffsetParentRelativeRectToViewportRelativeRect:rr,getDocumentElement:ge,getClippingRect:ur,getOffsetParent:fn,getElementRects:dr,getClientRects:or,getDimensions:ar,getScale:Ae,isElement:ae,isRTL:mr};function gr(e,t){let n=null,r;const o=ge(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const{left:a,top:g,width:h,height:d}=e.getBoundingClientRect();if(c||t(),!h||!d)return;const f=Ke(g),v=Ke(o.clientWidth-(a+h)),p=Ke(o.clientHeight-(g+d)),b=Ke(a),E={rootMargin:-f+"px "+-v+"px "+-p+"px "+-b+"px",threshold:U(0,le(1,u))||1};let x=!0;function T(w){const M=w[0].intersectionRatio;if(M!==u){if(!x)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(T,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,E)}n.observe(e)}return s(!0),i}function pr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,a=Ot(e),g=o||i?[...a?he(a):[],...he(t)]:[];g.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=a&&c?gr(a,n):null;let d=-1,f=null;s&&(f=new ResizeObserver(y=>{let[E]=y;E&&E.target===a&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(t)})),n()}),a&&!u&&f.observe(a),f.observe(t));let v,p=u?Ee(e):null;u&&b();function b(){const y=Ee(e);p&&(y.x!==p.x||y.y!==p.y||y.width!==p.width||y.height!==p.height)&&n(),p=y,v=requestAnimationFrame(b)}return n(),()=>{var y;g.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,u&&cancelAnimationFrame(v)}}const Ye=Re,mn=Gn,hr=Kn,vr=Un,br=jn,yr=Jn,wr=zn,Wt=Wn,xr=Xn,Rr=Zn,gn=(e,t,n)=>{const r=new Map,o={platform:dn,...n},i={...o.platform,_c:r};return Vn(e,t,{...o,platform:i})},Er=e=>{const{element:t,padding:n}=e;function r(o){return Object.prototype.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return r(t)?t.current!=null?Wt({element:t.current,padding:n}).fn(o):{}:t?Wt({element:t,padding:n}).fn(o):{}}}};var Xe=typeof document<"u"?m.useLayoutEffect:m.useEffect;function et(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!et(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!et(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function $t(e){const t=m.useRef(e);return Xe(()=>{t.current=e}),t}function Tr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,whileElementsMounted:i,open:s}=e,[c,u]=m.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[a,g]=m.useState(r);et(a,r)||g(r);const h=m.useRef(null),d=m.useRef(null),f=m.useRef(c),v=$t(i),p=$t(o),[b,y]=m.useState(null),[E,x]=m.useState(null),T=m.useCallback(R=>{h.current!==R&&(h.current=R,y(R))},[]),w=m.useCallback(R=>{d.current!==R&&(d.current=R,x(R))},[]),M=m.useCallback(()=>{if(!h.current||!d.current)return;const R={placement:t,strategy:n,middleware:a};p.current&&(R.platform=p.current),gn(h.current,d.current,R).then(l=>{const D={...l,isPositioned:!0};k.current&&!et(f.current,D)&&(f.current=D,we.flushSync(()=>{u(D)}))})},[a,t,n,p]);Xe(()=>{s===!1&&f.current.isPositioned&&(f.current.isPositioned=!1,u(R=>({...R,isPositioned:!1})))},[s]);const k=m.useRef(!1);Xe(()=>(k.current=!0,()=>{k.current=!1}),[]),Xe(()=>{if(b&&E){if(v.current)return v.current(b,E,M);M()}},[b,E,M,v]);const _=m.useMemo(()=>({reference:h,floating:d,setReference:T,setFloating:w}),[T,w]),I=m.useMemo(()=>({reference:b,floating:E}),[b,E]);return m.useMemo(()=>({...c,update:M,refs:_,elements:I,reference:T,floating:w}),[c,M,_,I,T,w])}var z=typeof document<"u"?m.useLayoutEffect:m.useEffect;let ft=!1,Or=0;const Kt=()=>"floating-ui-"+Or++;function Cr(){const[e,t]=m.useState(()=>ft?Kt():void 0);return z(()=>{e==null&&t(Kt())},[]),m.useEffect(()=>{ft||(ft=!0)},[]),e}const Pr=en.useId,_e=Pr||Cr;function pn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const hn=m.createContext(null),vn=m.createContext(null),De=()=>{var e;return((e=m.useContext(hn))==null?void 0:e.id)||null},Ce=()=>m.useContext(vn),Ar=e=>{const t=_e(),n=Ce(),r=De(),o=e||r;return z(()=>{const i={id:t,parentId:o};return n==null||n.addNode(i),()=>{n==null||n.removeNode(i)}},[n,t,o]),t},Ir=e=>{let{children:t,id:n}=e;const r=De();return m.createElement(hn.Provider,{value:m.useMemo(()=>({id:n,parentId:r}),[n,r])},t)},Sr=e=>{let{children:t}=e;const n=m.useRef([]),r=m.useCallback(s=>{n.current=[...n.current,s]},[]),o=m.useCallback(s=>{n.current=n.current.filter(c=>c!==s)},[]),i=m.useState(()=>pn())[0];return m.createElement(vn.Provider,{value:m.useMemo(()=>({nodesRef:n,addNode:r,removeNode:o,events:i}),[n,r,o,i])},t)};function J(e){return(e==null?void 0:e.ownerDocument)||document}function Pt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function bn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function At(e){return J(e).defaultView||window}function oe(e){return e?e instanceof At(e).Element:!1}function Te(e){return e?e instanceof At(e).HTMLElement:!1}function Lr(e){if(typeof ShadowRoot>"u")return!1;const t=At(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function yn(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(Pt())||t.test(bn()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function wn(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function vt(){return/apple/i.test(navigator.vendor)}function xn(){return Pt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function tt(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function ie(e){const t=m.useRef(e);return z(()=>{t.current=e}),t}const jt="data-floating-ui-safe-polygon";function qe(e,t,n){return n&&!tt(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const Mr=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:o=null,mouseOnly:i=!1,restMs:s=0,move:c=!0}=t===void 0?{}:t;const{open:u,onOpenChange:a,dataRef:g,events:h,elements:{domReference:d,floating:f},refs:v}=e,p=Ce(),b=De(),y=ie(o),E=ie(r),x=m.useRef(),T=m.useRef(),w=m.useRef(),M=m.useRef(),k=m.useRef(!0),_=m.useRef(!1),I=m.useRef(()=>{}),R=m.useCallback(()=>{var O;const S=(O=g.current.openEvent)==null?void 0:O.type;return(S==null?void 0:S.includes("mouse"))&&S!=="mousedown"},[g]);m.useEffect(()=>{if(!n)return;function O(){clearTimeout(T.current),clearTimeout(M.current),k.current=!0}return h.on("dismiss",O),()=>{h.off("dismiss",O)}},[n,h]),m.useEffect(()=>{if(!n||!y.current||!u)return;function O(){R()&&a(!1)}const S=J(f).documentElement;return S.addEventListener("mouseleave",O),()=>{S.removeEventListener("mouseleave",O)}},[f,u,a,n,y,g,R]);const l=m.useCallback(function(O){O===void 0&&(O=!0);const S=qe(E.current,"close",x.current);S&&!w.current?(clearTimeout(T.current),T.current=setTimeout(()=>a(!1),S)):O&&(clearTimeout(T.current),a(!1))},[E,a]),D=m.useCallback(()=>{I.current(),w.current=void 0},[]),P=m.useCallback(()=>{if(_.current){const O=J(v.floating.current).body;O.style.pointerEvents="",O.removeAttribute(jt),_.current=!1}},[v]);return m.useEffect(()=>{if(!n)return;function O(){return g.current.openEvent?["click","mousedown"].includes(g.current.openEvent.type):!1}function S(C){if(clearTimeout(T.current),k.current=!1,i&&!tt(x.current)||s>0&&qe(E.current,"open")===0)return;g.current.openEvent=C;const L=qe(E.current,"open",x.current);L?T.current=setTimeout(()=>{a(!0)},L):a(!0)}function N(C){if(O())return;I.current();const L=J(f);if(clearTimeout(M.current),y.current){clearTimeout(T.current),w.current=y.current({...e,tree:p,x:C.clientX,y:C.clientY,onClose(){P(),D(),l()}});const A=w.current;L.addEventListener("mousemove",A),I.current=()=>{L.removeEventListener("mousemove",A)};return}l()}function V(C){O()||y.current==null||y.current({...e,tree:p,x:C.clientX,y:C.clientY,onClose(){D(),l()}})(C)}if(oe(d)){const C=d;return u&&C.addEventListener("mouseleave",V),f==null||f.addEventListener("mouseleave",V),c&&C.addEventListener("mousemove",S,{once:!0}),C.addEventListener("mouseenter",S),C.addEventListener("mouseleave",N),()=>{u&&C.removeEventListener("mouseleave",V),f==null||f.removeEventListener("mouseleave",V),c&&C.removeEventListener("mousemove",S),C.removeEventListener("mouseenter",S),C.removeEventListener("mouseleave",N)}}},[d,f,n,e,i,s,c,l,D,P,a,u,p,E,y,g]),z(()=>{var O;if(n&&u&&(O=y.current)!=null&&O.__options.blockPointerEvents&&R()){const V=J(f).body;if(V.setAttribute(jt,""),V.style.pointerEvents="none",_.current=!0,oe(d)&&f){var S,N;const C=d,L=p==null||(S=p.nodesRef.current.find(A=>A.id===b))==null||(N=S.context)==null?void 0:N.elements.floating;return L&&(L.style.pointerEvents=""),C.style.pointerEvents="auto",f.style.pointerEvents="auto",()=>{C.style.pointerEvents="",f.style.pointerEvents=""}}}},[n,u,b,f,d,p,y,g,R]),z(()=>{u||(x.current=void 0,D(),P())},[u,D,P]),m.useEffect(()=>()=>{D(),clearTimeout(T.current),clearTimeout(M.current),P()},[n,D,P]),m.useMemo(()=>{if(!n)return{};function O(S){x.current=S.pointerType}return{reference:{onPointerDown:O,onPointerEnter:O,onMouseMove(){u||s===0||(clearTimeout(M.current),M.current=setTimeout(()=>{k.current||a(!0)},s))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(){h.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),l(!1)}}}},[h,n,s,u,a,l])},Rn=m.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),En=()=>m.useContext(Rn),Dr=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[o,i]=m.useReducer((u,a)=>({...u,...a}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=m.useRef(null),c=m.useCallback(u=>{i({currentId:u})},[]);return z(()=>{o.currentId?s.current===null?s.current=o.currentId:i({isInstantPhase:!0}):(i({isInstantPhase:!1}),s.current=null)},[o.currentId]),m.createElement(Rn.Provider,{value:m.useMemo(()=>({...o,setState:i,setCurrentId:c}),[o,i,c])},t)},Fr=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:o}=t;const{currentId:i,setCurrentId:s,initialDelay:c,setState:u,timeoutMs:a}=En();m.useEffect(()=>{i&&(u({delay:{open:1,close:qe(c,"close")}}),i!==o&&r(!1))},[o,r,u,i,c]),m.useEffect(()=>{function g(){r(!1),u({delay:c,currentId:null})}if(!n&&i===o)if(a){const h=window.setTimeout(g,a);return()=>{clearTimeout(h)}}else g()},[n,u,i,o,r,c,a]),m.useEffect(()=>{n&&s(o)},[n,s,o])};function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Oe(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function Z(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Lr(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}let zt=0;function ye(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(zt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():zt=requestAnimationFrame(i)}function kr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Be(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)})||[],r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})})||[],n=n.concat(r);return n}function ct(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Nr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Tn(e){return Te(e)&&e.matches(Nr)}function re(e){e.preventDefault(),e.stopPropagation()}const nt=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function On(e,t){const n=Ue(e,nt());t==="prev"&&n.reverse();const r=n.indexOf(Oe(J(e)));return n.slice(r+1)[0]}function Cn(){return On(document.body,"next")}function Pn(){return On(document.body,"prev")}function He(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Z(n,r)}function Br(e){Ue(e,nt()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Hr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const _r=en.useInsertionEffect,Vr=_r||(e=>e());function Fe(e){const t=m.useRef(()=>{});return Vr(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const It={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let bt,St;function Yt(e){e.key==="Tab"&&(bt=e.target,clearTimeout(St))}function Wr(e){const t=bt===e.relatedTarget;return bt=e.relatedTarget,clearTimeout(St),t}const rt=m.forwardRef(function(t,n){const r=Fe(t.onFocus),[o,i]=m.useState();return z(()=>(vt()&&i("button"),document.addEventListener("keydown",Yt),()=>{document.removeEventListener("keydown",Yt)}),[]),m.createElement("span",Ve({},t,{ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,"data-floating-ui-focus-guard":"",style:It,onFocus:s=>{vt()&&xn()&&!Wr(s)?(s.persist(),St=window.setTimeout(()=>{r(s)},50)):r(s)}}))}),An=m.createContext(null),In=function(e){let{id:t,enabled:n=!0}=e===void 0?{}:e;const[r,o]=m.useState(null),i=_e(),s=Sn();return z(()=>{if(!n)return;const c=t?document.getElementById(t):null;if(c)c.setAttribute("data-floating-ui-portal",""),o(c);else{const u=document.createElement("div");t!==""&&(u.id=t||i),u.setAttribute("data-floating-ui-portal",""),o(u);const a=(s==null?void 0:s.portalNode)||document.body;return a.appendChild(u),()=>{a.removeChild(u)}}},[t,s,i,n]),r},$r=e=>{let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=In({id:n,enabled:!r}),[s,c]=m.useState(null),u=m.useRef(null),a=m.useRef(null),g=m.useRef(null),h=m.useRef(null),d=!!s&&!s.modal&&!!(r||i)&&o;return m.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function f(v){i&&He(v)&&(v.type==="focusin"?Hr:Br)(i)}return i.addEventListener("focusin",f,!0),i.addEventListener("focusout",f,!0),()=>{i.removeEventListener("focusin",f,!0),i.removeEventListener("focusout",f,!0)}},[i,o,s==null?void 0:s.modal]),m.createElement(An.Provider,{value:m.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:u,afterOutsideRef:a,beforeInsideRef:g,afterInsideRef:h,portalNode:i,setFocusManagerState:c}),[o,i])},d&&i&&m.createElement(rt,{"data-type":"outside",ref:u,onFocus:f=>{if(He(f,i)){var v;(v=g.current)==null||v.focus()}else{const p=Pn()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus()}}}),d&&i&&m.createElement("span",{"aria-owns":i.id,style:It}),r?we.createPortal(t,r):i?we.createPortal(t,i):null,d&&i&&m.createElement(rt,{"data-type":"outside",ref:a,onFocus:f=>{if(He(f,i)){var v;(v=h.current)==null||v.focus()}else{const p=Cn()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1))}}}))},Sn=()=>m.useContext(An),Kr=m.forwardRef(function(t,n){return m.createElement("button",Ve({},t,{type:"button",ref:n,tabIndex:-1,style:It}))});function jr(e){let{context:t,children:n,order:r=["content"],guards:o=!0,initialFocus:i=0,returnFocus:s=!0,modal:c=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:a=!0}=e;const{refs:g,nodeId:h,onOpenChange:d,events:f,dataRef:v,elements:{domReference:p,floating:b}}=t,y=ie(r),E=Ce(),x=Sn(),[T,w]=m.useState(null),M=typeof i=="number"&&i<0,k=m.useRef(null),_=m.useRef(null),I=m.useRef(!1),R=m.useRef(null),l=m.useRef(!1),D=x!=null,P=p&&p.getAttribute("role")==="combobox"&&Tn(p),O=m.useCallback(function(C){return C===void 0&&(C=b),C?Ue(C,nt()):[]},[b]),S=m.useCallback(C=>{const L=O(C);return y.current.map(A=>p&&A==="reference"?p:b&&A==="floating"?b:L).filter(Boolean).flat()},[p,b,y,O]);m.useEffect(()=>{if(!c)return;function C(A){if(A.key==="Tab"){O().length===0&&!P&&re(A);const F=S(),K=ct(A);y.current[0]==="reference"&&K===p&&(re(A),A.shiftKey?ye(F[F.length-1]):ye(F[1])),y.current[1]==="floating"&&K===b&&A.shiftKey&&(re(A),ye(F[0]))}}const L=J(b);return L.addEventListener("keydown",C),()=>{L.removeEventListener("keydown",C)}},[p,b,c,y,g,P,O,S]),m.useEffect(()=>{if(!a)return;function C(){l.current=!0,setTimeout(()=>{l.current=!1})}function L(A){const F=A.relatedTarget,K=!(Z(p,F)||Z(b,F)||Z(F,b)||Z(x==null?void 0:x.portalNode,F)||F!=null&&F.hasAttribute("data-floating-ui-focus-guard")||E&&(Be(E.nodesRef.current,h).find(W=>{var j,Y;return Z((j=W.context)==null?void 0:j.elements.floating,F)||Z((Y=W.context)==null?void 0:Y.elements.domReference,F)})||kr(E.nodesRef.current,h).find(W=>{var j,Y;return((j=W.context)==null?void 0:j.elements.floating)===F||((Y=W.context)==null?void 0:Y.elements.domReference)===F})));F&&K&&!l.current&&F!==R.current&&(I.current=!0,setTimeout(()=>d(!1)))}if(b&&Te(p))return p.addEventListener("focusout",L),p.addEventListener("pointerdown",C),!c&&b.addEventListener("focusout",L),()=>{p.removeEventListener("focusout",L),p.removeEventListener("pointerdown",C),!c&&b.removeEventListener("focusout",L)}},[p,b,c,h,E,x,d,a]),m.useEffect(()=>{var C;const L=Array.from((x==null||(C=x.portalNode)==null?void 0:C.querySelectorAll("[data-floating-ui-portal]"))||[]);function A(){return[k.current,_.current].filter(Boolean)}if(b&&c){const F=[b,...L,...A()],K=Dn(y.current.includes("reference")||P?F.concat(p||[]):F);return()=>{K()}}},[p,b,c,y,x,P]),m.useEffect(()=>{if(c&&!o&&b){const C=[],L=nt(),A=Ue(J(b).body,L),F=S(),K=A.filter(W=>!F.includes(W));return K.forEach((W,j)=>{C[j]=W.getAttribute("tabindex"),W.setAttribute("tabindex","-1")}),()=>{K.forEach((W,j)=>{const Y=C[j];Y==null?W.removeAttribute("tabindex"):W.setAttribute("tabindex",Y)})}}},[b,c,o,S]),z(()=>{if(!b)return;const C=J(b);let L=s,A=!1;const F=Oe(C),K=v.current;R.current=F;const W=S(b),j=(typeof i=="number"?W[i]:i.current)||b;!M&&ye(j,{preventScroll:j===b});function Y(B){if(B.type==="escapeKey"&&g.domReference.current&&(R.current=g.domReference.current),["referencePress","escapeKey"].includes(B.type))return;const Q=B.data.returnFocus;typeof Q=="object"?(L=!0,A=Q.preventScroll):L=Q}return f.on("dismiss",Y),()=>{if(f.off("dismiss",Y),Z(b,Oe(C))&&g.domReference.current&&(R.current=g.domReference.current),L&&Te(R.current)&&!I.current)if(!g.domReference.current||l.current)ye(R.current,{cancelPrevious:!1,preventScroll:A});else{var B;K.__syncReturnFocus=!0,(B=R.current)==null||B.focus({preventScroll:A}),setTimeout(()=>{delete K.__syncReturnFocus})}}},[b,S,i,s,v,g,f,M]),z(()=>{if(x)return x.setFocusManagerState({...t,modal:c,closeOnFocusOut:a}),()=>{x.setFocusManagerState(null)}},[x,c,a,t]),z(()=>{if(M||!b)return;function C(){w(O().length)}if(C(),typeof MutationObserver=="function"){const L=new MutationObserver(C);return L.observe(b,{childList:!0,subtree:!0}),()=>{L.disconnect()}}},[b,O,M,g]);const N=o&&(D||c)&&!P;function V(C){return u&&c?m.createElement(Kr,{ref:C==="start"?k:_,onClick:()=>d(!1)},typeof u=="string"?u:"Dismiss"):null}return m.createElement(m.Fragment,null,N&&m.createElement(rt,{"data-type":"inside",ref:x==null?void 0:x.beforeInsideRef,onFocus:C=>{if(c){const A=S();ye(r[0]==="reference"?A[0]:A[A.length-1])}else if(x!=null&&x.preserveTabOrder&&x.portalNode)if(I.current=!1,He(C,x.portalNode)){const A=Cn()||p;A==null||A.focus()}else{var L;(L=x.beforeOutsideRef.current)==null||L.focus()}}}),P?null:V("start"),m.cloneElement(n,T===0||r.includes("floating")?{tabIndex:0}:{}),V("end"),N&&m.createElement(rt,{"data-type":"inside",ref:x==null?void 0:x.afterInsideRef,onFocus:C=>{if(c)ye(S()[0]);else if(x!=null&&x.preserveTabOrder&&x.portalNode)if(I.current=!0,He(C,x.portalNode)){const A=Pn()||p;A==null||A.focus()}else{var L;(L=x.afterOutsideRef.current)==null||L.focus()}}}))}const je="data-floating-ui-scroll-lock",zr=m.forwardRef(function(t,n){let{lockScroll:r=!1,...o}=t;return z(()=>{var i,s;if(!r||document.body.hasAttribute(je))return;document.body.setAttribute(je,"");const a=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",g=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test(Pt()))return Object.assign(document.body.style,{overflow:"hidden",[a]:g+"px"}),()=>{document.body.removeAttribute(je),Object.assign(document.body.style,{overflow:"",[a]:""})};const h=((i=window.visualViewport)==null?void 0:i.offsetLeft)||0,d=((s=window.visualViewport)==null?void 0:s.offsetTop)||0,f=window.pageXOffset,v=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(v-Math.floor(d))+"px",left:-(f-Math.floor(h))+"px",right:"0",[a]:g+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[a]:""}),document.body.removeAttribute(je),window.scrollTo(f,v)}},[r]),m.createElement("div",Ve({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function Xt(e){return Te(e.target)&&e.target.tagName==="BUTTON"}function qt(e){return Tn(e)}const Yr=function(e,t){let{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:u=!0,ignoreMouse:a=!1,keyboardHandlers:g=!0}=t===void 0?{}:t;const h=m.useRef();return m.useMemo(()=>s?{reference:{onPointerDown(d){h.current=d.pointerType},onMouseDown(d){d.button===0&&(tt(h.current,!0)&&a||c!=="click"&&(n?u&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")&&r(!1):(d.preventDefault(),r(!0)),o.current.openEvent=d.nativeEvent))},onClick(d){if(!o.current.__syncReturnFocus){if(c==="mousedown"&&h.current){h.current=void 0;return}tt(h.current,!0)&&a||(n?u&&(!o.current.openEvent||o.current.openEvent.type==="click")&&r(!1):r(!0),o.current.openEvent=d.nativeEvent)}},onKeyDown(d){h.current=void 0,g&&(Xt(d)||(d.key===" "&&!qt(i)&&d.preventDefault(),d.key==="Enter"&&(n?u&&r(!1):r(!0))))},onKeyUp(d){g&&(Xt(d)||qt(i)||d.key===" "&&(n?u&&r(!1):r(!0)))}}}:{},[s,o,c,a,g,i,u,n,r])};function Ge(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Xr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},qr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Gr=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},Ur=function(e,t){let{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:c,floating:u},dataRef:a}=e,{enabled:g=!0,escapeKey:h=!0,outsidePress:d=!0,outsidePressEvent:f="pointerdown",referencePress:v=!1,referencePressEvent:p="pointerdown",ancestorScroll:b=!1,bubbles:y=!0}=t===void 0?{}:t;const E=Ce(),x=De()!=null,T=Fe(typeof d=="function"?d:()=>!1),w=typeof d=="function"?T:d,M=m.useRef(!1),{escapeKeyBubbles:k,outsidePressBubbles:_}=Gr(y);return m.useEffect(()=>{if(!n||!g)return;a.current.__escapeKeyBubbles=k,a.current.__outsidePressBubbles=_;function I(O){if(O.key==="Escape"){const S=E?Be(E.nodesRef.current,i):[];if(S.length>0){let N=!0;if(S.forEach(V=>{var C;if((C=V.context)!=null&&C.open&&!V.context.dataRef.current.__escapeKeyBubbles){N=!1;return}}),!N)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function R(O){const S=M.current;if(M.current=!1,S||typeof w=="function"&&!w(O))return;const N=ct(O);if(Te(N)&&u){const L=u.ownerDocument.defaultView||window,A=N.scrollWidth>N.clientWidth,F=N.scrollHeight>N.clientHeight;let K=F&&O.offsetX>N.clientWidth;if(F&&L.getComputedStyle(N).direction==="rtl"&&(K=O.offsetX<=N.offsetWidth-N.clientWidth),K||A&&O.offsetY>N.clientHeight)return}const V=E&&Be(E.nodesRef.current,i).some(L=>{var A;return Ge(O,(A=L.context)==null?void 0:A.elements.floating)});if(Ge(O,u)||Ge(O,c)||V)return;const C=E?Be(E.nodesRef.current,i):[];if(C.length>0){let L=!0;if(C.forEach(A=>{var F;if((F=A.context)!=null&&F.open&&!A.context.dataRef.current.__outsidePressBubbles){L=!1;return}}),!L)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:x?{preventScroll:!0}:yn(O)||wn(O)}}),r(!1)}function l(){r(!1)}const D=J(u);h&&D.addEventListener("keydown",I),w&&D.addEventListener(f,R);let P=[];return b&&(oe(c)&&(P=he(c)),oe(u)&&(P=P.concat(he(u))),!oe(s)&&s&&s.contextElement&&(P=P.concat(he(s.contextElement)))),P=P.filter(O=>{var S;return O!==((S=D.defaultView)==null?void 0:S.visualViewport)}),P.forEach(O=>{O.addEventListener("scroll",l,{passive:!0})}),()=>{h&&D.removeEventListener("keydown",I),w&&D.removeEventListener(f,R),P.forEach(O=>{O.removeEventListener("scroll",l)})}},[a,u,c,s,h,w,f,o,E,i,n,r,b,g,k,_,x]),m.useEffect(()=>{M.current=!1},[w,f]),m.useMemo(()=>g?{reference:{[Xr[p]]:()=>{v&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[qr[f]]:()=>{M.current=!0}}}:{},[g,o,v,f,p,r])},Zr=function(e,t){let{open:n,onOpenChange:r,dataRef:o,events:i,refs:s,elements:{floating:c,domReference:u}}=e,{enabled:a=!0,keyboardOnly:g=!0}=t===void 0?{}:t;const h=m.useRef(""),d=m.useRef(!1),f=m.useRef();return m.useEffect(()=>{if(!a)return;const p=J(c).defaultView||window;function b(){!n&&Te(u)&&u===Oe(J(u))&&(d.current=!0)}return p.addEventListener("blur",b),()=>{p.removeEventListener("blur",b)}},[c,u,n,a]),m.useEffect(()=>{if(!a)return;function v(p){(p.type==="referencePress"||p.type==="escapeKey")&&(d.current=!0)}return i.on("dismiss",v),()=>{i.off("dismiss",v)}},[i,a]),m.useEffect(()=>()=>{clearTimeout(f.current)},[]),m.useMemo(()=>a?{reference:{onPointerDown(v){let{pointerType:p}=v;h.current=p,d.current=!!(p&&g)},onMouseLeave(){d.current=!1},onFocus(v){var p;d.current||v.type==="focus"&&((p=o.current.openEvent)==null?void 0:p.type)==="mousedown"&&o.current.openEvent&&Ge(o.current.openEvent,u)||(o.current.openEvent=v.nativeEvent,r(!0))},onBlur(v){d.current=!1;const p=v.relatedTarget,b=oe(p)&&p.hasAttribute("data-floating-ui-focus-guard")&&p.getAttribute("data-type")==="outside";f.current=setTimeout(()=>{Z(s.floating.current,p)||Z(u,p)||b||r(!1)})}}}:{},[a,g,u,s,o,r])};let Gt=!1;const Lt="ArrowUp",lt="ArrowDown",Le="ArrowLeft",$e="ArrowRight";function ze(e,t,n){return Math.floor(e/t)!==n}function Ne(e,t){return t<0||t>=e.current.length}function G(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let c=n;do{var u,a;c=c+(r?-i:i)}while(c>=0&&c<=s.length-1&&(o?o.includes(c):s[c]==null||(u=s[c])!=null&&u.hasAttribute("disabled")||((a=s[c])==null?void 0:a.getAttribute("aria-disabled"))==="true"));return c}function ut(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Ut(e,t){return ut(t,e===Lt||e===lt,e===Le||e===$e)}function dt(e,t,n){return ut(t,e===lt,n?e===Le:e===$e)||e==="Enter"||e==" "||e===""}function Jr(e,t,n){return ut(t,n?e===Le:e===$e,e===lt)}function Qr(e,t,n){return ut(t,n?e===$e:e===Le,e===Lt)}function mt(e,t){return G(e,{disabledIndices:t})}function Zt(e,t){return G(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}const eo=function(e,t){let{open:n,onOpenChange:r,refs:o,elements:{domReference:i}}=e,{listRef:s,activeIndex:c,onNavigate:u=()=>{},enabled:a=!0,selectedIndex:g=null,allowEscape:h=!1,loop:d=!1,nested:f=!1,rtl:v=!1,virtual:p=!1,focusItemOnOpen:b="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:E=!0,disabledIndices:x=void 0,orientation:T="vertical",cols:w=1,scrollItemIntoView:M=!0}=t===void 0?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:t;const k=De(),_=Ce(),I=Fe(u),R=m.useRef(b),l=m.useRef(g??-1),D=m.useRef(null),P=m.useRef(!0),O=m.useRef(I),S=m.useRef(n),N=m.useRef(!1),V=m.useRef(!1),C=ie(x),L=ie(n),A=ie(M),[F,K]=m.useState(),W=m.useCallback(function(B,Q,X){X===void 0&&(X=!1);const q=B.current[Q.current];p?K(q==null?void 0:q.id):ye(q,{preventScroll:!0,sync:xn()&&vt()?Gt||N.current:!1}),requestAnimationFrame(()=>{const Pe=A.current;Pe&&q&&(X||!P.current)&&(q.scrollIntoView==null||q.scrollIntoView(typeof Pe=="boolean"?{block:"nearest",inline:"nearest"}:Pe))})},[p,A]);z(()=>{document.createElement("div").focus({get preventScroll(){return Gt=!0,!1}})},[]),z(()=>{a&&(n?R.current&&g!=null&&(V.current=!0,I(g)):S.current&&(l.current=-1,O.current(null)))},[a,n,g,I]),z(()=>{if(a&&n)if(c==null){if(N.current=!1,g!=null)return;S.current&&(l.current=-1,W(s,l)),!S.current&&R.current&&(D.current!=null||R.current===!0&&D.current==null)&&(l.current=D.current==null||dt(D.current,T,v)||f?mt(s,C.current):Zt(s,C.current),I(l.current))}else Ne(s,c)||(l.current=c,W(s,l,V.current),V.current=!1)},[a,n,c,g,f,s,T,v,I,W,C]),z(()=>{if(a&&S.current&&!n){var B,Q;const X=_==null||(B=_.nodesRef.current.find(q=>q.id===k))==null||(Q=B.context)==null?void 0:Q.elements.floating;X&&!Z(X,Oe(J(X)))&&X.focus({preventScroll:!0})}},[a,n,_,k]),z(()=>{D.current=null,O.current=I,S.current=n});const j=c!=null,Y=m.useMemo(()=>{function B(X){if(!n)return;const q=s.current.indexOf(X);q!==-1&&I(q)}return{onFocus(X){let{currentTarget:q}=X;B(q)},onClick:X=>{let{currentTarget:q}=X;return q.focus({preventScroll:!0})},...y&&{onMouseMove(X){let{currentTarget:q}=X;B(q)},onPointerLeave(){if(P.current&&(l.current=-1,W(s,l),we.flushSync(()=>I(null)),!p)){var X;(X=o.floating.current)==null||X.focus({preventScroll:!0})}}}}},[n,o,W,y,s,I,p]);return m.useMemo(()=>{if(!a)return{};const B=C.current;function Q(H){if(P.current=!1,N.current=!0,!L.current&&H.currentTarget===o.floating.current)return;if(f&&Qr(H.key,T,v)){re(H),r(!1),Te(i)&&i.focus();return}const se=l.current,be=mt(s,B),ne=Zt(s,B);if(H.key==="Home"&&(l.current=be,I(l.current)),H.key==="End"&&(l.current=ne,I(l.current)),w>1){const $=l.current;if(H.key===Lt){if(re(H),$===-1)l.current=ne;else if(l.current=G(s,{startingIndex:$,amount:w,decrement:!0,disabledIndices:B}),d&&($-w<be||l.current<0)){const pe=$%w,ke=ne%w,Mt=ne-(ke-pe);ke===pe?l.current=ne:l.current=ke>pe?Mt:Mt-w}Ne(s,l.current)&&(l.current=$),I(l.current)}if(H.key===lt&&(re(H),$===-1?l.current=be:(l.current=G(s,{startingIndex:$,amount:w,disabledIndices:B}),d&&$+w>ne&&(l.current=G(s,{startingIndex:$%w-w,amount:w,disabledIndices:B}))),Ne(s,l.current)&&(l.current=$),I(l.current)),T==="both"){const pe=Math.floor($/w);H.key===$e&&(re(H),$%w!==w-1?(l.current=G(s,{startingIndex:$,disabledIndices:B}),d&&ze(l.current,w,pe)&&(l.current=G(s,{startingIndex:$-$%w-1,disabledIndices:B}))):d&&(l.current=G(s,{startingIndex:$-$%w-1,disabledIndices:B})),ze(l.current,w,pe)&&(l.current=$)),H.key===Le&&(re(H),$%w!==0?(l.current=G(s,{startingIndex:$,disabledIndices:B,decrement:!0}),d&&ze(l.current,w,pe)&&(l.current=G(s,{startingIndex:$+(w-$%w),decrement:!0,disabledIndices:B}))):d&&(l.current=G(s,{startingIndex:$+(w-$%w),decrement:!0,disabledIndices:B})),ze(l.current,w,pe)&&(l.current=$));const ke=Math.floor(ne/w)===pe;Ne(s,l.current)&&(d&&ke?l.current=H.key===Le?ne:G(s,{startingIndex:$-$%w-1,disabledIndices:B}):l.current=$),I(l.current);return}}if(Ut(H.key,T)){if(re(H),n&&!p&&Oe(H.currentTarget.ownerDocument)===H.currentTarget){l.current=dt(H.key,T,v)?be:ne,I(l.current);return}dt(H.key,T,v)?d?l.current=se>=ne?h&&se!==s.current.length?-1:be:G(s,{startingIndex:se,disabledIndices:B}):l.current=Math.min(ne,G(s,{startingIndex:se,disabledIndices:B})):d?l.current=se<=be?h&&se!==-1?s.current.length:ne:G(s,{startingIndex:se,decrement:!0,disabledIndices:B}):l.current=Math.max(be,G(s,{startingIndex:se,decrement:!0,disabledIndices:B})),Ne(s,l.current)?I(null):I(l.current)}}function X(H){b==="auto"&&yn(H.nativeEvent)&&(R.current=!0)}function q(H){R.current=b,b==="auto"&&wn(H.nativeEvent)&&(R.current=!0)}const Pe=p&&n&&j&&{"aria-activedescendant":F};return{reference:{...Pe,onKeyDown(H){P.current=!1;const se=H.key.indexOf("Arrow")===0;if(p&&n)return Q(H);if(!n&&!E&&se)return;if((se||H.key==="Enter"||H.key===" "||H.key==="")&&(D.current=H.key),f){Jr(H.key,T,v)&&(re(H),n?(l.current=mt(s,B),I(l.current)):r(!0));return}Ut(H.key,T)&&(g!=null&&(l.current=g),re(H),!n&&E?r(!0):Q(H),n&&I(l.current))},onFocus(){n&&I(null)},onPointerDown:q,onMouseDown:X,onClick:X},floating:{"aria-orientation":T==="both"?void 0:T,...Pe,onKeyDown:Q,onPointerMove(){P.current=!0}},item:Y}},[i,o,F,C,L,s,a,T,v,p,n,j,f,g,E,h,w,d,b,I,r,Y])};function to(e){return m.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const no=function(e,t){let{open:n}=e,{enabled:r=!0,role:o="dialog"}=t===void 0?{}:t;const i=_e(),s=_e();return m.useMemo(()=>{const c={id:i,role:o};return r?o==="tooltip"?{reference:{"aria-describedby":n?i:void 0},floating:c}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":o==="alertdialog"?"dialog":o,"aria-controls":n?i:void 0,...o==="listbox"&&{role:"combobox"},...o==="menu"&&{id:s}},floating:{...c,...o==="menu"&&{"aria-labelledby":s}}}:{}},[r,o,n,i,s])},Jt=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function ro(e,t){const[n,r]=m.useState(e);return e&&!n&&r(!0),m.useEffect(()=>{if(!e){const o=setTimeout(()=>r(!1),t);return()=>clearTimeout(o)}},[e,t]),n}function Ln(e,t){let{open:n,elements:{floating:r}}=e,{duration:o=250}=t===void 0?{}:t;const s=(typeof o=="number"?o:o.close)||0,[c,u]=m.useState(!1),[a,g]=m.useState("unmounted"),h=ro(n,s);return z(()=>{c&&!h&&g("unmounted")},[c,h]),z(()=>{if(r)if(n){g("initial");const d=requestAnimationFrame(()=>{g("open")});return()=>{cancelAnimationFrame(d)}}else u(!0),g("close")},[n,r]),{isMounted:h,status:a}}function oo(e,t){let{initial:n={opacity:0},open:r,close:o,common:i,duration:s=250}=t===void 0?{}:t;const c=e.placement,u=c.split("-")[0],[a,g]=m.useState({}),{isMounted:h,status:d}=Ln(e,{duration:s}),f=ie(n),v=ie(r),p=ie(o),b=ie(i),y=typeof s=="number",E=(y?s:s.open)||0,x=(y?s:s.close)||0;return z(()=>{const T={side:u,placement:c},w=f.current,M=p.current,k=v.current,_=b.current,I=typeof w=="function"?w(T):w,R=typeof M=="function"?M(T):M,l=typeof _=="function"?_(T):_,D=(typeof k=="function"?k(T):k)||Object.keys(I).reduce((P,O)=>(P[O]="",P),{});if(d==="initial"&&g(P=>({transitionProperty:P.transitionProperty,...l,...I})),d==="open"&&g({transitionProperty:Object.keys(D).map(Jt).join(","),transitionDuration:E+"ms",...l,...D}),d==="close"){const P=R||I;g({transitionProperty:Object.keys(P).map(Jt).join(","),transitionDuration:x+"ms",...l,...P})}},[u,c,x,p,f,v,b,E,d]),{isMounted:h,styles:a}}const io=function(e,t){var n;let{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:c=()=>{},enabled:u=!0,findMatch:a=null,resetMs:g=1e3,ignoreKeys:h=[],selectedIndex:d=null}=t===void 0?{listRef:{current:[]},activeIndex:null}:t;const f=m.useRef(),v=m.useRef(""),p=m.useRef((n=d??s)!=null?n:-1),b=m.useRef(null),y=Fe(c),E=ie(a),x=ie(h);return z(()=>{r&&(clearTimeout(f.current),b.current=null,v.current="")},[r]),z(()=>{if(r&&v.current===""){var T;p.current=(T=d??s)!=null?T:-1}},[r,d,s]),m.useMemo(()=>{if(!u)return{};function T(w){const M=ct(w.nativeEvent);if(oe(M)&&(Oe(J(M))!==w.currentTarget&&M.closest('[role="dialog"],[role="menu"],[role="listbox"],[role="tree"],[role="grid"]')!==w.currentTarget))return;v.current.length>0&&v.current[0]!==" "&&(o.current.typing=!0,w.key===" "&&re(w));const k=i.current;if(k==null||x.current.includes(w.key)||w.key.length!==1||w.ctrlKey||w.metaKey||w.altKey)return;k.every(P=>{var O,S;return P?((O=P[0])==null?void 0:O.toLocaleLowerCase())!==((S=P[1])==null?void 0:S.toLocaleLowerCase()):!0})&&v.current===w.key&&(v.current="",p.current=b.current),v.current+=w.key,clearTimeout(f.current),f.current=setTimeout(()=>{v.current="",p.current=b.current,o.current.typing=!1},g);const I=p.current,R=[...k.slice((I||0)+1),...k.slice(0,(I||0)+1)],l=E.current?E.current(R,v.current):R.find(P=>(P==null?void 0:P.toLocaleLowerCase().indexOf(v.current.toLocaleLowerCase()))===0),D=l?k.indexOf(l):-1;D!==-1&&(y(D),b.current=D)}return{reference:{onKeyDown:T},floating:{onKeyDown:T}}},[u,o,i,g,x,E,y])};function Qt(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const so=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:s=0,minItemsVisible:c=4,referenceOverflowThreshold:u=0,scrollRef:a,...g}=e,{rects:h,elements:{floating:d}}=t,f=n.current[s];if(!f)return{};const v={...t,...await mn(-f.offsetTop-h.reference.height/2-f.offsetHeight/2-i).fn(t)},p=(a==null?void 0:a.current)||d,b=await Ye(Qt(v,p.scrollHeight),g),y=await Ye(v,{...g,elementContext:"reference"}),E=Math.max(0,b.top),x=v.y+E,T=Math.max(0,p.scrollHeight-E-Math.max(0,b.bottom));return p.style.maxHeight=T+"px",p.scrollTop=E,o&&(p.offsetHeight<f.offsetHeight*Math.min(c,n.current.length-1)-1||y.top>=-u||y.bottom>=-u?we.flushSync(()=>o(!0)):we.flushSync(()=>o(!1))),r&&(r.current=await Ye(Qt({...v,y:x},p.offsetHeight),g)),{y:x}}}),co=(e,t)=>{let{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:s,onChange:c}=t;const u=Fe(c),a=m.useRef(!1),g=m.useRef(null),h=m.useRef(null);return m.useEffect(()=>{if(!o)return;function d(v){if(v.ctrlKey||!f||i.current==null)return;const p=v.deltaY,b=i.current.top>=-.5,y=i.current.bottom>=-.5,E=f.scrollHeight-f.clientHeight,x=p<0?-1:1,T=p<0?"max":"min";f.scrollHeight<=f.clientHeight||(!b&&p>0||!y&&p<0?(v.preventDefault(),we.flushSync(()=>{u(w=>w+Math[T](p,E*x))})):/firefox/i.test(bn())&&(f.scrollTop+=p))}const f=(s==null?void 0:s.current)||r.floating;if(n&&f)return f.addEventListener("wheel",d),requestAnimationFrame(()=>{g.current=f.scrollTop,i.current!=null&&(h.current={...i.current})}),()=>{g.current=null,h.current=null,f.removeEventListener("wheel",d)}},[o,n,r.floating,i,s,u]),m.useMemo(()=>o?{floating:{onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const d=(s==null?void 0:s.current)||r.floating;if(!(!i.current||!d||!a.current)){if(g.current!==null){const f=d.scrollTop-g.current;(i.current.bottom<-.5&&f<-1||i.current.top<-.5&&f>1)&&we.flushSync(()=>u(v=>v+f))}requestAnimationFrame(()=>{g.current=d.scrollTop})}}}}:{},[o,i,r.floating,s,u])};function lo(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[u,a]=t[s]||[0,0],[g,h]=t[c]||[0,0];a>=r!=h>=r&&n<=(g-u)*(r-a)/(h-a)+u&&(o=!o)}return o}function uo(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function ao(e){let{restMs:t=0,buffer:n=.5,blockPointerEvents:r=!1}=e===void 0?{}:e,o,i=!1,s=!1;const c=u=>{let{x:a,y:g,placement:h,elements:d,onClose:f,nodeId:v,tree:p}=u;return function(y){function E(){clearTimeout(o),f()}if(clearTimeout(o),!d.domReference||!d.floating||h==null||a==null||g==null)return;const{clientX:x,clientY:T}=y,w=[x,T],M=ct(y),k=y.type==="mouseleave",_=Z(d.floating,M),I=Z(d.domReference,M),R=d.domReference.getBoundingClientRect(),l=d.floating.getBoundingClientRect(),D=h.split("-")[0],P=a>l.right-l.width/2,O=g>l.bottom-l.height/2,S=uo(w,R);if(_&&(s=!0),I&&(s=!1),I&&!k){s=!0;return}if(k&&oe(y.relatedTarget)&&Z(d.floating,y.relatedTarget)||p&&Be(p.nodesRef.current,v).some(L=>{let{context:A}=L;return A==null?void 0:A.open}))return;if(D==="top"&&g>=R.bottom-1||D==="bottom"&&g<=R.top+1||D==="left"&&a>=R.right-1||D==="right"&&a<=R.left+1)return E();let N=[];switch(D){case"top":N=[[l.left,R.top+1],[l.left,l.bottom-1],[l.right,l.bottom-1],[l.right,R.top+1]],i=x>=l.left&&x<=l.right&&T>=l.top&&T<=R.top+1;break;case"bottom":N=[[l.left,l.top+1],[l.left,R.bottom-1],[l.right,R.bottom-1],[l.right,l.top+1]],i=x>=l.left&&x<=l.right&&T>=R.bottom-1&&T<=l.bottom;break;case"left":N=[[l.right-1,l.bottom],[l.right-1,l.top],[R.left+1,l.top],[R.left+1,l.bottom]],i=x>=l.left&&x<=R.left+1&&T>=l.top&&T<=l.bottom;break;case"right":N=[[R.right-1,l.bottom],[R.right-1,l.top],[l.left+1,l.top],[l.left+1,l.bottom]],i=x>=R.right-1&&x<=l.right&&T>=l.top&&T<=l.bottom;break}function V(L){let[A,F]=L;const K=l.width>R.width,W=l.height>R.height;switch(D){case"top":{const j=[K?A+n/2:P?A+n*4:A-n*4,F+n+1],Y=[K?A-n/2:P?A+n*4:A-n*4,F+n+1],B=[[l.left,P||K?l.bottom-n:l.top],[l.right,P?K?l.bottom-n:l.top:l.bottom-n]];return[j,Y,...B]}case"bottom":{const j=[K?A+n/2:P?A+n*4:A-n*4,F-n],Y=[K?A-n/2:P?A+n*4:A-n*4,F-n],B=[[l.left,P||K?l.top+n:l.bottom],[l.right,P?K?l.top+n:l.bottom:l.top+n]];return[j,Y,...B]}case"left":{const j=[A+n+1,W?F+n/2:O?F+n*4:F-n*4],Y=[A+n+1,W?F-n/2:O?F+n*4:F-n*4];return[...[[O||W?l.right-n:l.left,l.top],[O?W?l.right-n:l.left:l.right-n,l.bottom]],j,Y]}case"right":{const j=[A-n,W?F+n/2:O?F+n*4:F-n*4],Y=[A-n,W?F-n/2:O?F+n*4:F-n*4],B=[[O||W?l.left+n:l.right,l.top],[O?W?l.left+n:l.right:l.left+n,l.bottom]];return[j,Y,...B]}}}const C=i?N:V([a,g]);if(!i){if(s&&!S)return E();lo([x,T],C)?t&&!s&&(o=setTimeout(E,t)):E()}}};return c.__options={blockPointerEvents:r},c}function fo(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,o=Tr(e),i=Ce(),s=m.useRef(null),c=m.useRef({}),u=m.useState(()=>pn())[0],[a,g]=m.useState(null),h=m.useCallback(y=>{const E=oe(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;o.refs.setReference(E)},[o.refs]),d=m.useCallback(y=>{(oe(y)||y===null)&&(s.current=y,g(y)),(oe(o.refs.reference.current)||o.refs.reference.current===null||y!==null&&!oe(y))&&o.refs.setReference(y)},[o.refs]),f=m.useMemo(()=>({...o.refs,setReference:d,setPositionReference:h,domReference:s}),[o.refs,d,h]),v=m.useMemo(()=>({...o.elements,domReference:a}),[o.elements,a]),p=Fe(n),b=m.useMemo(()=>({...o,refs:f,elements:v,dataRef:c,nodeId:r,events:u,open:t,onOpenChange:p}),[o,r,u,t,p,f,v]);return z(()=>{const y=i==null?void 0:i.nodesRef.current.find(E=>E.id===r);y&&(y.context=b)}),m.useMemo(()=>({...o,context:b,refs:f,reference:d,positionReference:h}),[o,f,b,d,h])}function gt(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[c,u]=s;if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var a;(a=r.get(c))==null||a.push(u),o[c]=function(){for(var g,h=arguments.length,d=new Array(h),f=0;f<h;f++)d[f]=arguments[f];(g=r.get(c))==null||g.forEach(v=>v(...d))}}}else o[c]=u}),o),{})}}const mo=function(e){e===void 0&&(e=[]);const t=e,n=m.useCallback(i=>gt(i,e,"reference"),t),r=m.useCallback(i=>gt(i,e,"floating"),t),o=m.useCallback(i=>gt(i,e,"item"),e.map(i=>i==null?void 0:i.item));return m.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])},go=Object.freeze(Object.defineProperty({__proto__:null,FloatingDelayGroup:Dr,FloatingFocusManager:jr,FloatingNode:Ir,FloatingOverlay:zr,FloatingPortal:$r,FloatingTree:Sr,arrow:Er,autoPlacement:hr,autoUpdate:pr,computePosition:gn,detectOverflow:Ye,flip:br,getOverflowAncestors:he,hide:wr,inline:xr,inner:so,limitShift:Rr,offset:mn,platform:dn,safePolygon:ao,shift:vr,size:yr,useClick:Yr,useDelayGroup:Fr,useDelayGroupContext:En,useDismiss:Ur,useFloating:fo,useFloatingNodeId:Ar,useFloatingParentNodeId:De,useFloatingPortalNode:In,useFloatingTree:Ce,useFocus:Zr,useHover:Mr,useId:_e,useInnerOffset:co,useInteractions:mo,useListNavigation:eo,useMergeRefs:to,useRole:no,useTransitionStatus:Ln,useTransitionStyles:oo,useTypeahead:io},Symbol.toStringTag,{value:"Module"})),yo=Mn(go);export{yo as r};
